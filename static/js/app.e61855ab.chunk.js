(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},messageView:{backgroundColor:a.colors.green,borderRadius:8,alignSelf:"flex-end",flexWrap:"wrap",marginLeft:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"right"}});t.default=function(e){return Object(s.jsx)(o.default,{style:r.main,children:Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})})}},113:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},username:{fontFamily:a.fonts.medium,color:a.colors.metalBlue,fontSize:12,letterSpacing:.3,textAlign:"left",marginLeft:12,marginTop:16,marginBottom:4},messageView:{backgroundColor:a.colors.bariumGrey,borderRadius:8,alignSelf:"flex-start",flexWrap:"wrap",marginRight:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"left"}});t.default=function(e){return Object(s.jsxs)(o.default,{style:r.main,children:[Object(s.jsx)(i.default,{style:r.username,children:e.userName}),Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})]})}},114:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},messageView:{backgroundColor:a.colors.bariumGrey,borderRadius:8,alignSelf:"flex-start",flexWrap:"wrap",marginRight:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"left"}});t.default=function(e){return Object(s.jsx)(o.default,{style:r.main,children:Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})})}},115:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},username:{fontFamily:a.fonts.medium,color:a.colors.metalBlue,fontSize:12,letterSpacing:.3,textAlign:"left",marginLeft:12,marginTop:16,marginBottom:4},messageView:{backgroundColor:a.colors.yellow,borderRadius:8,alignSelf:"flex-start",flexWrap:"wrap",marginRight:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"left"}});t.default=function(e){return Object(s.jsxs)(o.default,{style:r.main,children:[Object(s.jsx)(i.default,{style:r.username,children:e.userName}),Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})]})}},116:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},messageView:{backgroundColor:a.colors.yellow,borderRadius:8,alignSelf:"flex-start",flexWrap:"wrap",marginRight:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"left"}});t.default=function(e){return Object(s.jsx)(o.default,{style:r.main,children:Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})})}},117:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},username:{fontFamily:a.fonts.medium,color:a.colors.metalBlue,fontSize:12,letterSpacing:.3,textAlign:"right",marginRight:12,marginTop:16,marginBottom:4},messageView:{backgroundColor:a.colors.yellow,borderRadius:8,alignSelf:"flex-end",flexWrap:"wrap",marginLeft:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"right"}});t.default=function(e){return Object(s.jsxs)(o.default,{style:r.main,children:[Object(s.jsx)(i.default,{style:r.username,children:e.userName}),Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})]})}},118:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},messageView:{backgroundColor:a.colors.yellow,borderRadius:8,alignSelf:"flex-end",flexWrap:"wrap",marginLeft:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"right"}});t.default=function(e){return Object(s.jsx)(o.default,{style:r.main,children:Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})})}},119:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({loadingView:{flex:1,justifyContent:"center",alignItems:"center",paddingTop:160},loadingText:{fontFamily:a.fonts.medium,color:a.colors.metalBlue,fontSize:14,letterSpacing:.3}});t.default=function(){return Object(s.jsx)(o.default,{style:r.loadingView,children:Object(s.jsx)(i.default,{style:r.loadingText,children:"Loading..."})})}},120:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(21),a=n(30),s=n(6),r=n(2),c=n(1),u=n(167),d=s.default.create({main:{flex:1,backgroundColor:r.colors.darkGrey,position:"absolute",width:"100%",minHeight:450,alignItems:"flex-start"},content:{flex:1,alignItems:"flex-start",width:"78%",maxWidth:700,paddingTop:62},topView:{marginBottom:40},titleWelcome:{fontFamily:r.fonts.medium,color:r.colors.metalBlue,fontSize:16,letterSpacing:.3,marginBottom:14},title:{fontFamily:r.fonts.semibold,color:r.colors.peptoPink,fontSize:38,lineHeight:40,letterSpacing:.3,marginBottom:14},titleOwner:{fontFamily:r.fonts.medium,color:r.colors.bariumGrey,fontSize:16,letterSpacing:.4},centerMessage:{fontFamily:r.fonts.medium,color:r.colors.metalBlue,fontSize:16,lineHeight:24,letterSpacing:.3,marginBottom:80},buttonCreateSpot:{height:35,marginBottom:2,flexDirection:"row"},buttonQuestionFeedback:{height:35,flexDirection:"row",alignItems:"baseline"},bottomText:{fontFamily:r.fonts.medium,color:r.colors.green,fontSize:12,letterSpacing:.3,fontWeight:500},arrowGreen:{width:10,height:10,resizeMode:"contain",marginLeft:10}});t.default=function(e){return Object(c.jsx)(o.default,{style:d.main,children:Object(c.jsxs)(o.default,{style:d.content,children:[Object(c.jsxs)(o.default,{style:d.topView,children:[Object(c.jsx)(i.default,{style:d.titleWelcome,children:"Welcome to"}),Object(c.jsx)(i.default,{style:d.title,children:e.title}),Object(c.jsxs)(i.default,{style:d.titleOwner,children:["by ",e.owner]})]}),Object(c.jsx)(i.default,{style:d.centerMessage,children:"Start writing on the field at the bottom. Messages will dissappear after 24 hours, make sure to come back often."}),Object(c.jsxs)(a.default,{style:d.buttonCreateSpot,onPress:e.handlePressSpot,children:[Object(c.jsx)(i.default,{style:d.bottomText,children:"Create your own Spot"}),Object(c.jsx)(l.default,{style:d.arrowGreen,source:u})]}),Object(c.jsxs)(a.default,{style:d.buttonQuestionFeedback,onPress:e.handlePressQuest,children:[Object(c.jsx)(i.default,{style:d.bottomText,children:"Ask questions or leave feedback"}),Object(c.jsx)(l.default,{style:d.arrowGreen,source:u})]})]})})}},124:function(e,t,n){"use strict";n.r(t),function(e){var o=n(33),i=n.n(o),l=n(10),a=n.n(l),s=n(0),r=n(3),c=n(12),u=n(34),d=n(21),f=n(30),g=n(6),m=n(2),h=n(1),j=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]===e)return o[1]}return!1}("token"),x=n(69),p=n(68),b=g.default.create({main:{flex:1,backgroundColor:m.colors.darkGrey,width:"100%",height:"100%",minHeight:630,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},topView:{flex:1,justifyContent:"flex-end",alignItems:"flex-start",width:"100%",maxWidth:700,marginBottom:48},logo:{width:"70%",height:"48%",minWidth:250,maxWidth:350,minHeight:90,resizeMode:"contain",marginBottom:4},authText:{color:m.colors.metalBlue,fontSize:24,lineHeight:24,letterSpacing:.3,fontFamily:m.fonts.semibold},formView:{flex:2,justifyContent:"space-between",alignItems:"flex-start",marginBottom:16,maxWidth:700},fieldTitle:{color:m.colors.metalBlue,fontFamily:m.fonts.medium,fontSize:14,fontWeight:300,letterSpacing:.3,marginBottom:8,marginLeft:14},input:{width:190,height:45,backgroundColor:m.colors.metalBlue,placeholderTextColor:m.colors.decayingBlue,padding:14,fontFamily:m.fonts.regular,fontSize:15,textAlign:"left",letterSpacing:.3,marginBottom:16},forgotPassword:{width:"70%",color:m.colors.green,fontFamily:m.fonts.medium,fontSize:14,letterSpacing:.4,marginLeft:14},errorView:{flex:.2,justifyContent:"flex-end"},errorMsg:{color:m.colors.zapote,fontSize:12,letterSpacing:.3,fontFamily:m.fonts.medium,marginLeft:14},buttonSection:{flex:1,justifyContent:"flex-start",alignItems:"flex-start"},button:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:230,height:60,paddingVertical:8,paddingHorizontal:14,backgroundColor:m.colors.green,marginBottom:16},buttonText:{color:m.colors.blue,fontFamily:m.fonts.semibold,fontSize:25,lineHeight:25,alignSelf:"flex-end"},buttonArrow:{width:20,height:20,resizeMode:"contain",marginTop:4},signupNav:{marginLeft:14,justifyContent:"center",alignItems:"center"},signupText:{color:m.colors.green,fontFamily:m.fonts.medium,fontSize:16}});t.default=function(t){var n=t.navigation,o=Object(s.useState)(""),l=a()(o,2),g=l[0],m=l[1],y=Object(s.useState)(""),A=a()(y,2),O=A[0],w=A[1],S=Object(s.useState)(""),B=a()(S,2),C=B[0],I=B[1],v=function(){var e=i()((function*(){if(g&&O){var e=JSON.stringify({email:g,password:O});try{var t=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/auth/login",{method:"POST",body:e,headers:{"Content-Type":"application/json"}});if(t.ok){var n=yield t.json();m(""),w(""),I(""),k(n)}else{var o=yield t.json();I(o.message)}}catch(i){console.log(i)}}else I("All fields must be completed.")}));return function(){return e.apply(this,arguments)}}(),k=function(t){e.token=t.authToken,n.navigate("Spots",{toSpot:!1})};return Object(h.jsx)(h.Fragment,{children:j?void n.navigate("Verify"):Object(h.jsx)(r.default,{style:b.main,children:Object(h.jsxs)(r.default,{style:b.content,children:[Object(h.jsxs)(r.default,{style:b.topView,children:[Object(h.jsx)(d.default,{style:b.logo,source:x}),Object(h.jsx)(c.default,{style:b.authText,children:"Log in"})]}),Object(h.jsxs)(r.default,{style:b.formView,accessibilityRole:"form",children:[Object(h.jsxs)(r.default,{children:[Object(h.jsx)(c.default,{style:b.fieldTitle,children:"Email"}),Object(h.jsx)(u.default,{style:b.input,placeholder:"your@email.com",onChangeText:m,value:g}),Object(h.jsx)(c.default,{style:b.fieldTitle,children:"Password"}),Object(h.jsx)(u.default,{style:b.input,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",secureTextEntry:!0,onChangeText:w,value:O})]}),Object(h.jsx)(r.default,{style:b.errorView,children:C?Object(h.jsx)(c.default,{style:b.errorMsg,children:C}):null})]}),Object(h.jsxs)(r.default,{style:b.buttonSection,children:[Object(h.jsxs)(f.default,{style:b.button,onPress:v,children:[Object(h.jsx)(c.default,{style:b.buttonText,children:"Log in"}),Object(h.jsx)(d.default,{style:b.buttonArrow,source:p})]}),Object(h.jsx)(f.default,{style:b.signupNav,onPress:function(){return n.navigate("Signup")},children:Object(h.jsx)(c.default,{style:b.signupText,children:"Signup"})})]})]})})})}}.call(this,n(35))},128:function(e,t,n){"use strict";n.r(t),function(e){var o=n(33),i=n.n(o),l=(n(0),n(3)),a=n(129),s=n(130),r=n(1),c=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]===e)return o[1]}return!1}("token");t.default=function(t){var n=t.navigation,o=function(){var e=i()((function*(){var e=JSON.stringify({magic_token:c});try{var t=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/auth/verify_email/magic_login",{method:"POST",body:e,headers:{"Content-Type":"application/json"}});if(t.ok){var n=yield t.json();u(n)}}catch(o){console.log(o)}}));return function(){return e.apply(this,arguments)}}(),u=function(t){e.token=t.authToken,n.navigate("Spots",{toSpot:!1})};return!1===c?console.log("no token yet"):o(),Object(r.jsx)(l.default,{style:{flex:1},children:!1===c?Object(r.jsx)(a.default,{}):Object(r.jsx)(s.default,{})})}}.call(this,n(35))},129:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(21),a=n(6),s=n(2),r=n(1),c=n(69),u=n(188),d=a.default.create({main:{flex:1,backgroundColor:s.colors.darkGrey,width:"100%",height:"100%",minHeight:630,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},topView:{flex:1,justifyContent:"flex-end",alignItems:"flex-start",width:"100%",maxWidth:700,marginBottom:48},logo:{width:"70%",height:"48%",minWidth:250,maxWidth:350,minHeight:100,resizeMode:"contain"},successMsgView:{flex:.2,width:"80%",flexDirection:"row",alignItems:"center",marginBottom:48},successIcon:{width:20,height:20,resizeMode:"contain",marginRight:6},successMsg:{color:s.colors.green,fontFamily:s.fonts.medium,fontSize:18,letterSpacing:.3},successTextView:{flex:3,width:"80%",alignItems:"flex-start"},successTitle:{color:s.colors.peptoPink,fontFamily:s.fonts.semibold,fontSize:28,letterSpacing:.4,lineHeight:32,marginBottom:16},successText:{color:s.colors.metalBlue,fontFamily:s.fonts.medium,fontSize:17,letterSpacing:.3,lineHeight:22,fontWeight:300,marginBottom:16}});t.default=function(){return Object(r.jsx)(o.default,{style:d.main,children:Object(r.jsxs)(o.default,{style:d.content,children:[Object(r.jsx)(o.default,{style:d.topView,children:Object(r.jsx)(l.default,{style:d.logo,source:c})}),Object(r.jsxs)(o.default,{style:d.successMsgView,children:[Object(r.jsx)(l.default,{style:d.successIcon,source:u}),Object(r.jsx)(i.default,{style:d.successMsg,children:"Sign up successful!"})]}),Object(r.jsxs)(o.default,{style:d.successTextView,children:[Object(r.jsx)(i.default,{style:d.successTitle,children:"Please check your email to continue."}),Object(r.jsx)(i.default,{style:d.successText,children:"An email has been sent to the provided email, it should arrive in about 10 seconds."}),Object(r.jsx)(i.default,{style:d.successText,children:"If you don't see a verification email from Spot, please check your Promotions or Spam folders."})]})]})})}},130:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(21),a=n(6),s=n(2),r=n(1),c=n(69),u=a.default.create({main:{flex:1,backgroundColor:s.colors.darkGrey,width:"100%",height:"100%",minHeight:630,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},topView:{flex:1,justifyContent:"flex-end",alignItems:"flex-start",width:"100%",maxWidth:700,marginBottom:48},logo:{width:"70%",height:"48%",minWidth:250,maxWidth:350,minHeight:100,resizeMode:"contain"},successMsgView:{flex:.2,width:"80%",flexDirection:"row",alignItems:"center",marginBottom:48},successIcon:{width:20,height:20,resizeMode:"contain",marginRight:6},successMsg:{color:s.colors.green,fontFamily:s.fonts.medium,fontSize:18,letterSpacing:.3},successTextView:{flex:3,width:"80%",alignItems:"flex-start"},successTitle:{color:s.colors.peptoPink,fontFamily:s.fonts.semibold,fontSize:28,letterSpacing:.4,lineHeight:32,marginBottom:16},successText:{color:s.colors.metalBlue,fontFamily:s.fonts.medium,fontSize:17,letterSpacing:.3,lineHeight:22,fontWeight:300,marginBottom:16}});t.default=function(){return Object(r.jsx)(o.default,{style:u.main,children:Object(r.jsxs)(o.default,{style:u.content,children:[Object(r.jsx)(o.default,{style:u.topView,children:Object(r.jsx)(l.default,{style:u.logo,source:c})}),Object(r.jsx)(o.default,{style:u.successMsgView,children:Object(r.jsx)(i.default,{style:u.successMsg,children:"Thank you for verifying your email!"})}),Object(r.jsx)(o.default,{style:u.successTextView,children:Object(r.jsx)(i.default,{style:u.successTitle,children:"Redirecting you to some nice Spots..."})})]})})}},144:function(e,t,n){"use strict";n.r(t);var o=n(207),i=n(206),l=n(98),a=n(124),s=n(33),r=n.n(s),c=n(10),u=n.n(c),d=n(0),f=n(3),g=n(12),m=n(34),h=n(21),j=n(30),x=n(6),p=n(2),b=n(1),y=n(69),A=n(68),O=x.default.create({main:{flex:1,backgroundColor:p.colors.darkGrey,width:"100%",height:"100%",minHeight:850,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},topView:{flex:1,justifyContent:"flex-end",alignItems:"flex-start",width:"100%",maxWidth:700,marginBottom:48},logo:{width:"70%",height:"48%",minWidth:250,maxWidth:350,minHeight:90,resizeMode:"contain",marginBottom:4},authText:{color:p.colors.metalBlue,fontSize:24,lineHeight:24,letterSpacing:.3,fontFamily:p.fonts.semibold},formView:{flex:2,justifyContent:"space-between",alignItems:"flex-start",marginBottom:16,maxWidth:700},fieldTitle:{color:p.colors.metalBlue,fontFamily:p.fonts.medium,fontSize:14,fontWeight:300,letterSpacing:.3,marginBottom:8,marginLeft:14},input:{width:190,height:45,backgroundColor:p.colors.metalBlue,placeholderTextColor:p.colors.decayingBlue,padding:14,fontFamily:p.fonts.regular,fontSize:15,textAlign:"left",letterSpacing:.3,marginBottom:16},forgotPassword:{width:"70%",color:p.colors.green,fontFamily:p.fonts.medium,fontSize:14,letterSpacing:.4,marginLeft:14},errorView:{flex:.2,justifyContent:"flex-end"},errorMsg:{color:p.colors.zapote,fontSize:12,letterSpacing:.3,fontFamily:p.fonts.medium,marginLeft:14},buttonSection:{flex:1,justifyContent:"flex-start",alignItems:"flex-start"},button:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:230,height:60,paddingVertical:8,paddingHorizontal:14,backgroundColor:p.colors.green,marginBottom:16},buttonText:{color:p.colors.blue,fontFamily:p.fonts.semibold,fontSize:25,lineHeight:25,alignSelf:"flex-end"},buttonArrow:{width:20,height:20,resizeMode:"contain",marginTop:4},loginNav:{marginLeft:14,justifyContent:"center",alignItems:"center"},loginText:{color:p.colors.green,fontFamily:p.fonts.medium,fontSize:16}}),w=function(e){var t=e.navigation,n=Object(d.useState)(""),o=u()(n,2),i=o[0],l=o[1],a=Object(d.useState)(""),s=u()(a,2),c=s[0],x=s[1],p=Object(d.useState)(""),w=u()(p,2),S=w[0],B=w[1],C=Object(d.useState)(""),I=u()(C,2),v=I[0],k=I[1],T=Object(d.useState)(""),z=u()(T,2),V=z[0],F=z[1],H=function(){var e=r()((function*(){if(S===v)if(c&&i&&S&&v){var e=JSON.stringify({name:c,email:i,password:S});try{var n=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/auth/verify_email/signup",{method:"POST",body:e,headers:{"Content-Type":"application/json"}});if(n.ok)x(""),l(""),B(""),k(""),F(""),t.navigate("Verify");else{var o=yield n.json();F(o.message)}}catch(a){console.log(a)}}else F("All fields must be completed.");else F("Passwords must match")}));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(f.default,{style:O.main,children:Object(b.jsxs)(f.default,{style:O.content,children:[Object(b.jsxs)(f.default,{style:O.topView,children:[Object(b.jsx)(h.default,{style:O.logo,source:y}),Object(b.jsx)(g.default,{style:O.authText,children:"Sign up"})]}),Object(b.jsxs)(f.default,{style:O.formView,accessibilityRole:"form",children:[Object(b.jsxs)(f.default,{children:[Object(b.jsx)(g.default,{style:O.fieldTitle,children:"Name"}),Object(b.jsx)(m.default,{style:O.input,placeholder:"your name",onChangeText:x,value:c}),Object(b.jsx)(g.default,{style:O.fieldTitle,children:"Email"}),Object(b.jsx)(m.default,{style:O.input,placeholder:"your@email.com",onChangeText:l,value:i}),Object(b.jsx)(g.default,{style:O.fieldTitle,children:"Password"}),Object(b.jsx)(m.default,{style:O.input,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",secureTextEntry:!0,onChangeText:B,value:S}),Object(b.jsx)(g.default,{style:O.fieldTitle,children:"Confirm password"}),Object(b.jsx)(m.default,{style:O.input,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",secureTextEntry:!0,onChangeText:k,value:v})]}),Object(b.jsx)(f.default,{style:O.errorView,children:V?Object(b.jsx)(g.default,{style:O.errorMsg,children:V}):null})]}),Object(b.jsxs)(f.default,{style:O.buttonSection,children:[Object(b.jsxs)(j.default,{style:O.button,onPress:H,children:[Object(b.jsx)(g.default,{style:O.buttonText,children:"Sign up"}),Object(b.jsx)(h.default,{style:O.buttonArrow,source:A})]}),Object(b.jsx)(j.default,{style:O.loginNav,onPress:function(){return t.navigate("Login")},children:Object(b.jsx)(g.default,{style:O.loginText,children:"Log in"})})]})]})})},S=n(59),B=n(28),C=n(183),I=[p.colors.green,p.colors.yellow,p.colors.peptoPink,p.colors.zapote,p.colors.green],v=[p.colors.yellow,p.colors.zapote,p.colors.green,p.colors.peptoPink,p.colors.yellow],k=[p.colors.peptoPink,p.colors.green,p.colors.zapote,p.colors.yellow,p.colors.peptoPink],T=[p.colors.zapote,p.colors.peptoPink,p.colors.yellow,p.colors.green,p.colors.zapote],z=x.default.create({spotMain:{width:"100%",padding:16,backgroundColor:p.colors.metalBlue,flexDirection:"row",justifyContent:"space-between",marginBottom:6},spotDescription:{width:"84%",alignItems:"left"},spotTitle:{color:p.colors.darkGrey,fontFamily:p.fonts.semibold,fontSize:26,lineHeight:28,marginBottom:10},spotSub:{color:p.colors.decayingBlue,fontFamily:p.fonts.medium,fontSize:14,letterSpacing:.3,lineHeight:16,marginBottom:14},arrowView:{width:22,height:22},spotArrow:{width:22,height:22,resizeMode:"contain"},topicMain:{alignSelf:"flex-start",backgroundColor:p.colors.darkGrey,padding:6},topicText:{fontFamily:p.fonts.medium,fontSize:11,letterSpacing:.3,color:p.colors.metalBlue}}),V=function(e){var t=Object(d.useState)(new B.default.Value(0)),n=u()(t,1)[0],o=Object(d.useState)(function(){var e=Math.floor(4*Math.random());return 0===e?I:1===e?v:2===e?k:3===e?T:void 0}()),i=u()(o,1)[0];Object(d.useEffect)((function(){!function e(){B.default.sequence([B.default.timing(n,{toValue:1,duration:1e4,useNativeDriver:!1}),B.default.timing(n,{toValue:2,duration:1e4,useNativeDriver:!1}),B.default.timing(n,{toValue:3,duration:1e4,useNativeDriver:!1}),B.default.timing(n,{toValue:4,duration:1e4,useNativeDriver:!1}),B.default.timing(n,{toValue:0,duration:0,useNativeDriver:!1})]).start((function(){return e()}))}()}),[]);var l=n.interpolate({inputRange:[0,1,2,3,4],outputRange:i});return Object(b.jsxs)(j.default,{style:z.spotMain,onPress:e.destination,children:[Object(b.jsxs)(f.default,{style:z.spotDescription,children:[Object(b.jsx)(g.default,{style:z.spotTitle,children:e.title}),Object(b.jsx)(g.default,{style:z.spotSub,children:e.subtitle}),Object(b.jsx)(f.default,{style:z.topicMain,children:Object(b.jsx)(g.default,{style:z.topicText,children:e.topic})})]}),Object(b.jsx)(B.default.View,{style:[z.arrowView,{backgroundColor:l}],children:Object(b.jsx)(h.default,{style:z.spotArrow,source:C})})]})},F=n(185),H=n(186),D=n(68),M=function(e){return Object(b.jsxs)(j.default,{style:W.addButton,onPress:e.handlePress,children:[Object(b.jsx)(g.default,{style:W.addButtonText,children:"New Spot"}),Object(b.jsx)(h.default,{style:W.addButtonIcon,source:F})]})},E=function(e){return Object(b.jsxs)(j.default,{style:W.cancelButton,onPress:e.handlePress,children:[Object(b.jsx)(g.default,{style:W.cancelButtonText,children:"Cancel"}),Object(b.jsx)(h.default,{style:W.cancelButtonIcon,source:H})]})},P=function(e){return Object(b.jsxs)(j.default,{style:W.nextButton,onPress:e.handlePress,children:[Object(b.jsx)(h.default,{style:W.nextButtonIcon,source:D}),Object(b.jsx)(g.default,{style:W.nextButtonText,children:"Next"})]})},G=function(e){return Object(b.jsxs)(j.default,{style:W.doneButton,onPress:e.handlePress,children:[Object(b.jsx)(h.default,{style:W.doneButtonIcon,source:D}),Object(b.jsx)(g.default,{style:W.doneButtonText,children:"Done"})]})},Q=function(e){return Object(b.jsxs)(f.default,{style:W.addMain,children:[Object(b.jsx)(E,{handlePress:e.handleCancel}),Object(b.jsx)(m.default,{style:W.titleInput,placeholder:"Add a title...",onChangeText:e.changeText,value:e.value}),Object(b.jsx)(P,{handlePress:e.handleNext})]})},U=function(e){return Object(b.jsxs)(f.default,{style:W.addMain,children:[Object(b.jsx)(E,{handlePress:e.handleCancel}),Object(b.jsx)(m.default,{style:W.descriptionInput,placeholder:"Add a description...",onChangeText:e.changeText,value:e.value}),Object(b.jsx)(P,{handlePress:e.handleNext})]})},N=function(e){return Object(b.jsxs)(f.default,{style:W.addMain,children:[Object(b.jsx)(E,{handlePress:e.handleCancel}),Object(b.jsx)(m.default,{style:W.topicInput,placeholder:"Add a topic...",onChangeText:e.changeText,value:e.value}),Object(b.jsx)(G,{handlePress:e.handleDone})]})},W=x.default.create({addButton:{justifyContent:"space-between",width:55,height:55,backgroundColor:p.colors.yellow,padding:6},addButtonText:{fontFamily:p.fonts.medium,color:p.colors.blue,fontSize:13,lineHeight:13,letterSpacing:.3},addButtonIcon:{width:16,height:16,resizeMode:"contain",alignSelf:"flex-end"},addMain:{position:"absolute",flex:1,width:"100%",flexDirection:"row",alignItems:"flex-end",height:55,backgroundColor:p.colors.metalBlue},cancelButton:{justifyContent:"space-between",width:55,height:55,alignItems:"flex-start",backgroundColor:p.colors.zapote,padding:6},cancelButtonText:{fontFamily:p.fonts.medium,color:p.colors.blue,fontSize:13,lineHeight:13,alignSelf:"flex-end",letterSpacing:.3},cancelButtonIcon:{width:16,height:16,resizeMode:"contain",alignSelf:"flex-start"},titleInput:{width:"100%",height:"100%",padding:14,fontSize:24,fontFamily:p.fonts.semibold,color:p.colors.darkGrey},descriptionInput:{width:"100%",height:"100%",padding:14,fontSize:18,fontFamily:p.fonts.medium,color:p.colors.darkGrey},topicInput:{width:"100%",height:"100%",padding:14,fontSize:18,fontFamily:p.fonts.medium,color:p.colors.darkGrey},nextButton:{justifyContent:"space-between",width:55,height:55,padding:6,alignItems:"flex-end",backgroundColor:p.colors.bariumGrey},nextButtonIcon:{width:16,height:16,resizeMode:"contain"},nextButtonText:{fontFamily:p.fonts.medium,color:p.colors.blue,fontSize:13,lineHeight:13,alignSelf:"flex-start",letterSpacing:.3},doneButton:{justifyContent:"space-between",width:55,height:55,padding:6,alignItems:"flex-end",backgroundColor:p.colors.green},doneButtonIcon:{width:16,height:16,resizeMode:"contain"},doneButtonText:{fontFamily:p.fonts.medium,color:p.colors.blue,fontSize:13,lineHeight:13,alignSelf:"flex-start",letterSpacing:.3}}),R=n(96),L=n(187),Y=x.default.create({main:{flex:1,backgroundColor:p.colors.darkGrey,width:"100%",height:"100%",minHeight:630,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},topView:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",width:"100%",maxWidth:700,minHeight:50,marginBottom:12},logoutButton:{justifyContent:"space-between",backgroundColor:p.colors.zapote,padding:6,width:50,height:50},logoutIcon:{width:14,height:14,resizeMode:"contain"},logoutText:{fontFamily:p.fonts.medium,fontSize:12,color:p.colors.blue},spotIcon:{width:48,height:48},spotsView:{flex:10,marginBottom:12},flatList:{},spotItem:{marginBottom:4},addMain:{flex:1,width:"100%",height:65,minHeight:70,alignItems:"center",justifyContent:"flex-end"},errorMessage:{fontFamily:p.fonts.medium,color:p.colors.zapote,fontSize:11,letterSpacing:.3,marginBottom:4},addSpotMain:{flexDirection:"row",width:"100%",height:55}}),J=function(e){var t=e.route,n=e.navigation,o=Object(d.useState)(null),i=u()(o,2),l=i[0],a=i[1],s=Object(d.useState)(null),c=u()(s,2),m=c[0],x=c[1],p=Object(d.useState)(null),y=u()(p,2),A=(y[0],y[1]),O=Object(d.useState)(!1),w=u()(O,2),B=w[0],C=w[1],I=Object(d.useState)(!1),v=u()(I,2),k=v[0],T=v[1],z=Object(d.useState)(!1),F=u()(z,2),H=F[0],D=F[1],E=Object(d.useState)(""),P=u()(E,2),G=P[0],W=P[1],J=Object(d.useState)(""),X=u()(J,2),K=X[0],Z=X[1],q=Object(d.useState)(""),_=u()(q,2),$=_[0],ee=_[1];!0===t.params.toSpot&&n.navigate("Chat",{id:1}),Object(d.useEffect)((function(){te()}),[]);var te=function(){var e=r()((function*(){try{var e=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/chatrooms",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer "+token}});if(e.ok){var t=yield e.json();oe(t)}else{var n=yield e.json();A(n.message)}}catch(o){console.log(o)}}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=r()((function*(){if(G&&K&&""!==$){var e=JSON.stringify({title:G,description:K,topic:$});try{var t=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/chatrooms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+token},body:e});if(t.ok){var n=yield t.json();ie(n)}else console.log("There's been an error")}catch(o){console.log(o)}}}));return function(){return e.apply(this,arguments)}}(),oe=function(e){a(e.items)},ie=function(e){var t=e.chatroom.id;te(),n.navigate("Chat",{id:t})};return Object(b.jsx)(f.default,{style:Y.main,children:Object(b.jsxs)(f.default,{style:Y.content,children:[Object(b.jsxs)(f.default,{style:Y.topView,children:[Object(b.jsxs)(j.default,{style:Y.logoutButton,onPress:function(){token="",n.navigate("Login")},children:[Object(b.jsx)(h.default,{style:Y.logoutIcon,source:R}),Object(b.jsx)(g.default,{style:Y.logoutText,children:"Logout"})]}),Object(b.jsx)(h.default,{style:Y.spotIcon,source:L})]}),Object(b.jsx)(f.default,{style:Y.spotsView,children:null!==l?Object(b.jsx)(S.default,{style:Y.flatList,data:l,renderItem:function(e){var t=e.item;return Object(b.jsx)(V,{title:t.title,subtitle:t.description,topic:t.topic,destination:function(){return n.navigate("Chat",{id:t.id})}})},keyExtractor:function(e){return e.id}}):null}),Object(b.jsxs)(f.default,{style:Y.addMain,children:[Object(b.jsx)(g.default,{style:Y.errorMessage,children:m}),Object(b.jsxs)(f.default,{style:Y.addSpotMain,children:[Object(b.jsx)(M,{handlePress:function(){C(!0)}}),!0===B?Object(b.jsx)(Q,{handleCancel:function(){C(!1),x("")},handleNext:function(){""!==G?(C(!1),T(!0),x("")):x("All fields must be completed")},changeText:W,value:G}):null,k?Object(b.jsx)(U,{handleCancel:function(){T(!1),x("")},handleNext:function(){""!==K?(T(!1),D(!0),x("")):x("All fields must be completed")},changeText:Z,value:K}):null,H?Object(b.jsx)(N,{handleCancel:function(){D(!1),x("")},handleDone:function(){""!==$?(D(!1),x(""),ne(),W(""),Z(""),ee("")):x("All fields must be completed")},changeText:ee,value:$}):null]})]})]})})},X=n(128),K=Object(i.default)();t.default=function(){return Object(b.jsx)(o.default,{children:Object(b.jsxs)(K.Navigator,{initialRouteName:"Login",screenOptions:{headerShown:!1},children:[Object(b.jsx)(K.Screen,{name:"Login",component:a.default}),Object(b.jsx)(K.Screen,{name:"Signup",component:w}),Object(b.jsx)(K.Screen,{name:"Verify",component:X.default}),Object(b.jsx)(K.Screen,{name:"Spots",component:J}),Object(b.jsx)(K.Screen,{name:"Chat",component:l.default})]})})}},151:function(e,t,n){e.exports=n(198)},167:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAC4jAAAuIwF4pT92AAABNUlEQVR4nO2bsW3CQBiFn1EGoEvLCBkhI1BTMUVaRHtNRkhobg1gArzGdRkh+i0sIRJFkRLxHv7fV9lu/N3n81k6yV1tZQ7gCdOkXz2+fPw0sofz4PcTDYDaSg9gB+D9uxgzjtZNiQf8CuBUW3m+vnGGACOLmOm1lfXlxUwBRt5qK8vxJGMAnCPE4p82QAx+EwdZAwTDWpA5wDy+CpkDBOkDpH4FBhxAwIGKAwg4UHEAAQcqDiDgQCV9gE7A4dfUVmLv8su21h/Ypp8BDiDgQMUBBByoOICAAxUHEHCg4gACDlQcQMCBigMIOFBxAAEHKg4g4EDFAQQcqDiAgAMVBxBwoOIAAg5UHEDAgYoDCDhQcQABByoOIOBAxQEEHKg4gIADFQcQcKASf4/fE/EX+PHfhIHDJ7SaItWJuCmMAAAAAElFTkSuQmCC"},183:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABeCAYAAACq0qNuAAAACXBIWXMAAEU0AABFNAGuxrUdAAABa0lEQVR4nO3Z0UnEQBhF4btiASnBDrQES3Bb2Aq0gmVKsIHRDqaE2IHpQOxEItkHZQURkxPI+WBfMztnhp9AdtGflNqukoy/LslNkuskd799luH/Uamtm+Ifp0P5keFnUmq7nw6gO7eC4WdUahtH0NM0ir4w/Mym8dN/j2/4BZyLb/iFTGOnP838iy1seg2Oh/2Q5PH0V7zxCyu1vY2vmt745X3eesMv73lrG16NUturN57xYnjGu+EZg+EZwxY3LUmSJEmSJGkNdqW2fsMnMRwP+wdi4cskt8TCW+eHEIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhIYaHGB5ieIjhCUk+AB5/JeJUE3Z0AAAAAElFTkSuQmCC"},185:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAABXXxDfAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA1UlEQVRoge3UsQ3CMBRF0QfKIDQZgD4Fq1BmCsgGULllBDYgSB6A3k1GyAjI0CFKAzL33SZFJMdH385CldR2/V7SruBux2Ut+E9kPDXjqRlPzXhqxlMznprx1IynZjw146kZT814asZTM56a8dSMp2Y8NeOpGU/NeGpN2/WXSuyr0gs2kjalF60l33lqxlMznprx1IynRsZPZPyVip8lnan4Y4phJuJvkg4C/vDycd/mqQuGzxNfpxjy81Hz4w19o0nSkGI4vX4r44e/JD8bUwzj2zeS7r2JHjwuzX+JAAAAAElFTkSuQmCC"},186:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAABXXxDfAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA5ElEQVRoge3bsQ2CQBiG4Q/iAK5gQe8AFDqCI1gy0bW4gSNY3AD0NI7gBhoSNLEw0YS/ON/vaUkuvJdwBwSqpu3uWtZ+zOmy8Jgh6hJOMorjqRxP5Xgqx1M5nsrxVI6ncjyV46kcT+V4KsdTOZ7K8VSOp3I8leOpHE/leCrHU0V8gTlIuhUwn8MqYNBtwJghfM1TOZ7K8VSOp3I8VV3IfXiIKb6I38AiTPGn/8v6Tj3mdJ4fQ3GeC94RGz/mNBAn4LXVjTn1kg6k1f9tn5+v/42knjAJ1acDTdutJe1Kei31E+n6APRpHq6dS/QgAAAAAElFTkSuQmCC"},187:function(e,t,n){e.exports=n.p+"static/media/spot-icon.4e875f8a.png"},188:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAvCAYAAABUiRJEAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB4klEQVRogd3ZsVHDMBTG8X9gAbpQUlJmA8gG1GlgigzhhhFC5ZZjAhgha7hjBE6cH5cEW5atJ+nZX5NLmuj3yXFkacXCUjfVAdgA2916/+3TLQrfwl/at8ehAhaDv4BLvAUsAt8Dl/QWMHv8AFzSWcCs8YFwyb8CZosfCZecFTBL/ES45K+A2eEj4ZLfAq71hpU+SnCXW+B+NjOvCHdxv/ntLPAp4Lv1/mgenwqO9bt9SjiW8anhWMXngGMRnwvuchU4oKe6qW6UBuT7nmxwQvB1U7nBvAOfKQvIDWfosm/hh5OPBndHpqQEHB++Ay5RLaAUnD68By5RKaAknC58AFwSVUBpOJf4EXDJpAIswDnFT4BLRhVgBY7gI+CSoAIswV1WCnCJtwBrcNpFzoPSgDZ9CyGLcE4ue83BnV0BVuFc3PDUCwBercLp+KvTniWtZwF1OD2LHM0CNJIEjmd5a6WAZHAGHmxKF5AUTsAjbakCksMJ2cYqUEAWOKF7eBkLyAZnzAZmhgKywhm7e5uwgOxwpmxdJyigCJyp+/aKBRSDE3NooVBAUTixJzYRBRSHo3FcNaEAE3C0zupGFGAGjuZBZUABSU57YqJ6Sls31SPwDLjXu3amv4CP3Xr/ll3nC/ADXiRbB9uAWXIAAAAASUVORK5CYII="},2:function(e,t,n){"use strict";n.r(t),n.d(t,"fonts",(function(){return o})),n.d(t,"colors",(function(){return i})),n.d(t,"gradients",(function(){return l}));var o={regular:"ClashGrotesk-Regular",medium:"ClashGrotesk-Medium",semibold:"ClashGrotesk-Semibold"},i={darkGrey:"#2a323b",blue:"#2a3c66",decayingBlue:"#4b6073",metalBlue:"#879dad",bariumGrey:"#d1dcd5",green:"#b4e694",yellow:"#fae0a8",peptoPink:"#e2c5d7",zapote:"#e69d90"},l={gradsOne:["colors.green","colors.yellow","colors.peptoPink","colors.zapote"],gradsTwo:["colors.yellow","colors.zapote","colors.green","colors.peptoPink"],gradsThree:["colors.peptoPink","colors.green","colors.zapote","colors.yellow"],gradsFour:["colors.zapote","colors.peptoPink","colors.yellow","colors.green"]}},68:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA/CAYAAABQHc7KAAAACXBIWXMAAC4jAAAuIwF4pT92AAABNUlEQVRoge2avQ2CUBhFr8YBHMGGngEodBJt6VzBCSytnUA3UBN77V3CEcxnMCHGwgJzr3z3JPyEvOJwgFe8MCiqegrggH5yB7AHsL2dN8dPdzjs6Y2/GANYxAMuqjq2yfuAvgdoE2/6pajqsn0xUwA0b8ShHSFbADQRdkVVxzFlgCDmgmWcZA0QzGOXOcAk5oLMAYJp9gDj7AFSzwFPHEDAgYoDCDhQcQABByoOIOBAZQTgCmD2J75rAOUX475m8Fvfbol1vWZpqytW6T8BBxBwoOIAAg5UHEDAgYoDCDhQcQABByoOIOBAxQEEHKg4gIADFQcQcKDiAAIOVBxAwIGKAwg4UHEAAQcqDiDgQMUBBByoOICAAxUHEHCg4gACDlQcQMCBSvoA8afoP7EFcOpMGDg+AFz9GSP5j/99AAAAAElFTkSuQmCC"},69:function(e,t,n){e.exports=n.p+"static/media/spot-logo.02e07d91.png"},96:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA/CAYAAABQHc7KAAAACXBIWXMAAC4jAAAuIwF4pT92AAABJklEQVRoge2bsQ2CUBRFr8QBGIGGngEodANHsKViBiewtHQVC7ewYRTzDSSioTHIvfruqShIOO/8DwWBFSYo66YA0ALYASimzvtxDutX/7JucgBHAPs/HXrEKEBZNxWAM4CKr7YM2XCVfuVDDZ/Ino7DDZ94BCjrZtM/7MIx7IA24vCJIUDI1U9k/ZM/LGkH5NEDhMYBBByoOICAAxUHEHCg4gACDlTCB3h7JTYT28Un+YzuKwFu19NlAflZCH8LOICAAxUHEHCg4gACDlQcQMCBigMIOFBxAAEHKg4g4EDFAQQcqDiAgAMVBxBwoOIAAg5UHEDAgYoDCDhQcQABByoOIOBAxQEEHKg4gIADFQcQcKDiAAIOVMIHSB9KdukvagGX5QFwB+hlEXd6weODAAAAAElFTkSuQmCC"},98:function(e,t,n){"use strict";n.r(t),function(e){var o=n(11),i=n.n(o),l=n(17),a=n.n(l),s=n(33),r=n.n(s),c=n(10),u=n.n(c),d=n(0),f=n(3),g=n(12),m=n(34),h=n(21),j=n(59),x=n(30),p=n(6),b=n(47),y=n(99),A=n(112),O=n(113),w=n(114),S=n(115),B=n(116),C=n(117),I=n(118),v=n(119),k=n(120),T=n(2),z=n(1);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H,D,M="https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC",E=/chatrooms/,P=n(96),G=n(68),Q=n(168),U=p.default.create({main:{flex:1,backgroundColor:T.colors.darkGrey,width:"100%",height:"100%",minHeight:630,justifyContent:"center",alignItems:"center"},content:{flex:1,width:"100%",maxWidth:700,padding:35},top:{width:"100%",justifyContent:"space-between"},header:{flex:1,justifyContent:"flex-start"},title:{fontFamily:T.fonts.semibold,color:T.colors.metalBlue,fontSize:26,lineHeight:28,letterSpacing:.3,width:"80%",marginBottom:8},subOcupView:{justifyContent:"space-between",flexDirection:"row",alignItems:"baseline"},subtitle:{fontFamily:T.fonts.medium,color:T.colors.decayingBlue,fontSize:12,letterSpacing:.3},usersNumber:{fontFamily:T.fonts.medium,color:T.colors.decayingBlue,fontSize:10,letterSpacing:.2},chatContainer:{flex:1,marginVertical:16},bottomContainer:{width:"100%",flexDirection:"row"},backButton:{justifyContent:"space-between",backgroundColor:T.colors.bariumGrey,padding:6,width:50,height:50},backArrow:{width:14,height:14,resizeMode:"contain"},backButtonText:{fontFamily:T.fonts.medium,fontSize:13,color:T.colors.blue,alignSelf:"flex-end"},inputView:{flexDirection:"row",flex:1,height:50},textInput:{width:"100%",height:"100%",fontFamily:T.fonts.regular,fontSize:15,letterSpacing:.3,backgroundColor:T.colors.metalBlue,marginLeft:4,paddingHorizontal:8,paddingVertical:16},sendButton:{justifyContent:"space-between",width:50,height:50,padding:6,alignItems:"flex-end",backgroundColor:T.colors.green},sendButtonIcon:{width:14,height:14,resizeMode:"contain"},sendButtonText:{fontFamily:T.fonts.medium,color:T.colors.blue,fontSize:13,alignSelf:"flex-start",letterSpacing:.3}});t.default=function(t){var n=t.route,o=t.navigation,i=Object(d.useState)(""),l=u()(i,2),s=l[0],c=l[1],p=Object(d.useState)(""),T=u()(p,2),V=T[0],N=T[1],W=Object(d.useState)(null),R=u()(W,2),L=R[0],Y=R[1],J=Object(d.useState)(null),X=u()(J,2),K=X[0],Z=X[1],q=Object(d.useState)(""),_=u()(q,2),$=_[0],ee=_[1],te=Object(d.useState)(""),ne=u()(te,2),oe=ne[0],ie=ne[1],le=Object(d.useState)(""),ae=u()(le,2),se=ae[0],re=ae[1],ce=Object(d.useState)(!0),ue=u()(ce,2),de=ue[0],fe=ue[1],ge=Object(d.useState)(""),me=u()(ge,2),he=me[0],je=me[1],xe=n.params.id,pe=Object(d.useRef)(),be=function(){var e=r()((function*(){try{var e=yield fetch("https://x8ki-letl-twmt.n7.xano.io/api:i1afkiPC/auth/token",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer "+token}});if(e.ok){var t=yield e.json();return Ae(t),ye(),t.ablyToken}yield e.json();console.log("Not able to connect. Try again later.")}catch(n){console.log(n)}}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=r()((function*(){var e=""+M+E+xe;try{var t=yield fetch(e,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer "+token}});if(t.ok){var n=yield t.json();Oe(n)}}catch(o){console.log(o)}}));return function(){return e.apply(this,arguments)}}(),Ae=function(e){Y(e.user.name),Z(e.user.id)},Oe=function(e){ee(e.title),ie(e.owner.name),re(e.owner.id)};Object(d.useEffect)((function(){we()}),[]);var we=function(){(H=new Q.Realtime({authCallback:function(){var e=r()((function*(e,t){try{t(null,yield be())}catch(n){t(n,null)}}));return function(t,n){return e.apply(this,arguments)}}()})).connection.on("connected",(function(){console.log("Connected to Ably Realtime!"),Se(H)}))};Object(d.useEffect)((function(){if(V.length>=1){var t=V.length-1,n=V[t].clientId;e.previousUser=n}else e.previousUser=""}),[V]);var Se=function(t){D=t.channels.get("spots:"+xe,{params:{occupancy:"metrics.connections"}}),console.log("Subscribed to channel "+xe+"!"),Ce(D),D.subscribe((function(t){t.data.metrics?je(Ie(t.data.metrics.connections)):e.previousUser===t.clientId?(t.data.cont=!0,N((function(e){return[].concat(a()(e),[t])}))):N((function(e){return[].concat(a()(e),[t])}))}))},Be=[],Ce=function(e){e.history((function(e,t){for(var n=t.items,o=0;o<n.length;o++){var i=F({},n[o]),l=F({},n[o+1]);i.clientId===l.clientId?i.data.cont=!0:i.data.cont=!1,Be.unshift(i)}N(Be),fe(!1)}))},Ie=function(e){return e>0&&e<=1?e+" person present":e>=2&&e<=999?e+" people present":e>=1e3&&e<=999999?Math.floor(e/1e3)+"k people present":e>=1e6&&e<=999999999?Math.floor(e/1e6)+"m people present":e>=1e9&&e<=999999999999?Math.floor(e/1e9)+"b people present":null};return Object(z.jsx)(f.default,{style:U.main,children:Object(z.jsxs)(f.default,{style:U.content,children:[Object(z.jsxs)(f.default,{style:U.top,children:[Object(z.jsx)(f.default,{style:U.header,children:Object(z.jsx)(g.default,{style:U.title,children:$})}),Object(z.jsxs)(f.default,{style:U.subOcupView,children:[Object(z.jsxs)(g.default,{style:U.subtitle,children:["by ",oe]}),Object(z.jsx)(g.default,{style:U.usersNumber,children:he})]})]}),Object(z.jsx)(b.default,{style:U.chatContainer,ref:pe,onContentSizeChange:function(){return pe.current.scrollToEnd({animated:!0})},children:0!==V.length?Object(z.jsx)(j.default,{data:V,renderItem:function(e){var t=e.item;return K===JSON.parse(t.clientId)?!0===t.data.owner?!0!==t.data.cont?Object(z.jsx)(C.default,{userName:t.data.user,msg:t.data.message},t.id):Object(z.jsx)(I.default,{msg:t.data.message},t.id):!0!==t.data.cont?Object(z.jsx)(y.default,{userName:t.data.user,msg:t.data.message},t.id):Object(z.jsx)(A.default,{msg:t.data.message},t.id):!0===t.data.owner?!0!==t.data.cont?Object(z.jsx)(S.default,{userName:t.data.user,msg:t.data.message},t.id):Object(z.jsx)(B.default,{msg:t.data.message},t.id):!0!==t.data.cont?Object(z.jsx)(O.default,{userName:t.data.user,msg:t.data.message},t.id):Object(z.jsx)(w.default,{msg:t.data.message},t.id)},keyExtractor:function(e){return e.id}}):!0===de?Object(z.jsx)(v.default,{}):Object(z.jsx)(k.default,{title:$,owner:oe,handlePressSpot:function(){H.close(),console.log("Connection ended!"),o.navigate("Spots",{toSpot:!1})},handlePressQuest:function(){H.close(),console.log("Connection ended!"),o.navigate("Spots",{toSpot:!0})}})}),Object(z.jsxs)(f.default,{style:U.bottomContainer,children:[Object(z.jsxs)(x.default,{style:U.backButton,onPress:function(){H.close(),console.log("Connection ended!"),o.navigate("Spots",{token:token})},children:[Object(z.jsx)(h.default,{style:U.backArrow,source:P}),Object(z.jsx)(g.default,{style:U.backButtonText,children:"Back"})]}),Object(z.jsxs)(f.default,{style:U.inputView,children:[Object(z.jsx)(m.default,{style:U.textInput,onChangeText:c,multiline:!0,placeholder:"Type your message...",value:s}),Object(z.jsxs)(x.default,{style:U.sendButton,onPress:function(){""!==s&&(K===se?D.publish("new-message",{user:L,message:s,owner:!0,cont:!1}):D.publish("new-message",{user:L,message:s,owner:!1,cont:!1}),c(""))},children:[Object(z.jsx)(h.default,{style:U.sendButtonIcon,source:G}),Object(z.jsx)(g.default,{style:U.sendButtonText,children:"Send"})]})]})]})]})})}}.call(this,n(35))},99:function(e,t,n){"use strict";n.r(t);n(0);var o=n(3),i=n(12),l=n(6),a=n(2),s=n(1),r=l.default.create({main:{width:"100%"},username:{fontFamily:a.fonts.medium,color:a.colors.metalBlue,fontSize:12,letterSpacing:.3,textAlign:"right",marginRight:12,marginTop:16,marginBottom:4},messageView:{backgroundColor:a.colors.green,borderRadius:8,alignSelf:"flex-end",flexWrap:"wrap",marginLeft:72,marginBottom:4},message:{fontFamily:a.fonts.regular,color:a.colors.blue,fontSize:15,letterSpacing:.3,padding:12,textAlign:"right"}});t.default=function(e){return Object(s.jsxs)(o.default,{style:r.main,children:[Object(s.jsx)(i.default,{style:r.username,children:e.userName}),Object(s.jsx)(o.default,{style:r.messageView,children:Object(s.jsx)(i.default,{style:r.message,children:e.msg})})]})}}},[[151,1,2]]]);
//# sourceMappingURL=app.e61855ab.chunk.js.map